"""
コイン獲得プロセスの説明ガイド
"""

print("""
╔═══════════════════════════════════════════════════════════════════╗
║                 💰 コイン獲得システムの仕組み                     ║
╚═══════════════════════════════════════════════════════════════════╝

【重要】実績を達成しただけではコインは自動的に配布されません！

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 コイン獲得の3ステップ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  ステップ1️⃣  実績を達成する
  ─────────────────────────────────────
  ・ログイン、チェックリスト作成、AI会話などを行う
  ・条件を満たすと実績が「達成済み」になる
  ・この時点ではまだコインは配布されていません ⚠️
  
  
  ステップ2️⃣  実績ページで報酬を受け取る
  ─────────────────────────────────────
  ・トロフィーページ（http://127.0.0.1:8000/codemon/achievements/）にアクセス
  ・達成済み実績の「💎 報酬を受け取る」ボタンをクリック
  ・これでやっとコインがUserCoinに追加されます ✅
  
  
  ステップ3️⃣  コイン残高が更新される
  ─────────────────────────────────────
  ・ホーム画面やトロフィーページで残高が表示される
  ・アクセサリーショップで使用できるようになる
  

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 よくある問題
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ 問題: 実績を達成したのにコインが増えない
✅ 解決: トロフィーページで「報酬を受け取る」ボタンを押してください


❌ 問題: コイン残高が表示されない
✅ 解決: 以下を確認してください:
   1. ログインしていますか？
   2. 実績ページで報酬を受け取りましたか？
   3. ページを再読み込みしましたか？


❌ 問題: 同じ実績が2回表示される
✅ 解決: データベースに重複実績がありましたが、削除済みです


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 現在の実績確認コマンド
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

以下のコマンドで現在の状態を確認できます:

  python check_coin_system.py
  

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✨ 修正内容
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

今回の修正で追加された機能:

1. ✅ ホーム画面（karihome.html）にコイン残高表示を追加
2. ✅ トロフィーページにコイン残高表示を追加
3. ✅ 重複実績（初ログイン×2）を削除
4. ✅ achievements_viewにuser_coin情報を追加


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 次のアクション
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. ブラウザで http://127.0.0.1:8000/codemon/achievements/ にアクセス
2. 「初ログイン」実績の「💎 報酬を受け取る」ボタンをクリック
3. コイン残高が 10000 → 10100 に増えることを確認
4. ホーム画面でもコイン残高が表示されることを確認


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

""")
