{% extends 'base.html' %}
{% load static %}

{% block background_frame %}
<img src="{% static 'codemon/images/frames/bg_frame_purple.png' %}" 
     alt="" 
     class="bg-frame"
     onerror="this.style.display='none';">
{% endblock %}

{% block title %}アルゴリズム削除完了 - Codemon{% endblock %}

{% block extra_css %}
<style>
  /* ナビゲーション表示状態の制御 */
  .top-tabs {
    display: block;
  }

  main {
    margin: 200px auto 20px auto !important;
    max-width: 980px;
    box-sizing: border-box;
  }
    h1 {
      text-align: center;
      color: #2e7d32;
      margin-top: 130px !important;
      margin-bottom: 0 !important;
    }
    .card {
      background: url("{% static 'codemon/images/backgrounds/system_save.png' %}") no-repeat center center;
      background-size: 100% 100%;
      border-radius:10px; 
      padding:40px 24px; 
      box-shadow:0 6px 18px rgba(10,10,10,0.04);
      border:none;
      margin:18px auto; 
      max-width:820px; 
      text-align:center;
      margin-top: 8px !important;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .success-icon {
      width:80px; height:80px; margin:0 auto 24px; border-radius:50%; background:#4caf50;
      display:flex; align-items:center; justify-content:center; color:#fff; font-size:48px; font-weight:bold;
    }

    p{ color:#666; font-size:18px; line-height:1.6; margin-bottom:32px; }

    .card-actions{ display:flex; justify-content:center; gap:12px; flex-wrap:wrap; }
    .btn{
      padding:12px 24px; border-radius:8px; border:0; cursor:pointer; 
      font-size:14px; font-weight:700; transition: all .12s ease;
    }
    .btn-primary {
      background: linear-gradient(180deg,#e6f0ff,#cfe6ff);
      color:#073763;
      box-shadow:0 8px 18px rgba(10,59,110,0.06);
    }
    .btn-primary:hover {
      transform:translateY(-2px);
      box-shadow:0 10px 24px rgba(10,59,110,0.10);
    }
    .btn-ghost {
      background:transparent;
      color:#444;
      border:1px solid #e6e9ee;
    }
    .btn-ghost:hover {
      background:#f5f5f5;
    }
</style>
{% endblock %}

{% block content %}
    <h1>アルゴリズム削除完了</h1>

    <div class="card">
      <p>選択したアルゴリズムは正常に削除されました。</p>

      <div class="card-actions">
        <button class="btn btn-primary" id="btn-list">アルゴリズム一覧に戻る</button>
        <button class="btn btn-ghost" id="btn-main">メイン画面に戻る</button>
      </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
    // ナビタブ見た目切替 + 遷移
    document.querySelectorAll('.nav-tab').forEach(tab=>{
      tab.addEventListener('click', function(e){
        e.preventDefault();
        document.querySelectorAll('.nav-tab').forEach(t=>{
          t.classList.remove('active');
          t.setAttribute('aria-pressed','false');
        });
        this.classList.add('active');
        this.setAttribute('aria-pressed','true');

        // システムタブ: システム選択画面へ遷移
        if (this.id === 'tab-system') {
          window.location.href = '/accounts/system/choice/';
          return;
        }

        // アルゴリズムタブ押下で block/choiceへ遷移
        if (this.id === 'tab-algorithm') {
          window.location.href = '/accounts/block/choice';
          return;
        }

        // 他タブは現在遷移先なし（見た目切替のみ）
      });
    });

    // アルゴリズム一覧に戻るボタン
    document.getElementById('btn-list').addEventListener('click', function(){
      window.location.href = '/accounts/block/list/';
    });

    // メイン画面に戻るボタン
    document.getElementById('btn-main').addEventListener('click', function(){
      window.location.href = '/accounts/karihome/';
    });
</script>
{% endblock %}
</html>
