{% extends 'base.html' %}
{% load static %}

{% block background_frame %}
<img src="{% static 'codemon/images/frames/bg_frame_blue.png' %}" 
     alt="" 
     class="bg-frame"
     onerror="this.style.display='none';">
{% endblock %}

{% block title %}システム作成 - Codemon{% endblock %}

{% block extra_css %}
{% include 'system/_styles.html' %}
{% endblock %}

{% block content %}
{% include 'system/_content.html' %}
{% endblock %}

{% block extra_js %}
{% include 'system/_blockly_loader.html' %}
{% include 'system/_drag_drop.html' %}
{% include 'system/_history.html' %}
{% include 'system/_preview.html' %}
{% include 'system/_element_creators.html' %}
{% include 'system/_initialization.html' %}

<!-- 既存チュートリアルシステムは削除されました -->
<script>
console.log('✅ システム編集画面を読み込みました');

// getCookie関数を定義（グローバルスコープ）
function getCookie(name) {
  let cookieValue = null;
  if (document.cookie && document.cookie !== '') {
    const cookies = document.cookie.split(';');
    for (let i = 0; i < cookies.length; i++) {
      const cookie = cookies[i].trim();
      if (cookie.substring(0, name.length + 1) === (name + '=')) {
        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
        break;
      }
    }
  }
  return cookieValue;
}

// 既存チュートリアルシステムは削除されました
console.log('✅ システム編集画面（index.html）ロード完了');
</script>
{% endblock %}

{% block ai_chat_widget %}
  {% include 'includes/ai_chat_base.html' %}
{% endblock %}
