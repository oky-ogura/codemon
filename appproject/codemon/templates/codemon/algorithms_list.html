{% extends 'base.html' %}

{% block title %}アルゴリズム一覧 - Codemon{% endblock %}

{% block content %}
<h1>アルゴリズム一覧</h1>

<!-- 直接テスト：この赤いボックスが表示されるか -->
<div style="position: fixed; bottom: 50px; right: 50px; background: blue; color: white; padding: 20px; z-index: 99999; font-size: 20px;">
  テスト表示 - algorithms_list.html
</div>

<!-- テスト：キャラクターウィジェットを直接埋め込み -->
{% include 'includes/character_widget.html' with mode='sidebar' %}

{% if algorithms and algorithms|length %}
	<ul style="list-style: none; padding: 0;">
		{% for a in algorithms %}
			<li style="margin-bottom: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; background: #fafafa;">
				<strong style="font-size: 18px;">{{ a.algorithm_name }}</strong>
				{% if a.algorithm_description %}<br><small style="color: #666;">{{ a.algorithm_description }}</small>{% endif %}
			</li>
		{% endfor %}
	</ul>
{% else %}
	<p style="text-align: center; color: #999; padding: 40px;">登録されているアルゴリズムはまだありません。</p>
{% endif %}

<hr style="margin: 30px 0;">

<!-- デバッグ情報（開発時のみ表示することを推奨） -->
<div style="background: #f9f9f9; padding: 15px; border-radius: 8px; font-size: 12px; color: #666;">
	<p><strong>デバッグ情報:</strong></p>
	<p>is_account_authenticated = {{ request.session.is_account_authenticated }}</p>
	<p>account_user_id = {{ request.session.account_user_id }}</p>
	<p>request.user.is_authenticated = {{ request.user.is_authenticated }}</p>
	<p>request.user.username = {{ request.user.username }}</p>
</div>

<p style="margin-top: 20px;">
	<a href="javascript:history.back()" style="color: #667eea; text-decoration: none; font-weight: bold;">← 前のページに戻る</a>
</p>
{% endblock %}

{% block global_character_widget %}
<!-- デバッグ：このブロックが表示されるかテスト -->
<div style="position: fixed; bottom: 10px; left: 10px; background: red; color: white; padding: 10px; z-index: 9999;">
  ウィジェットブロックテスト
</div>
{% include 'includes/character_widget.html' with mode='sidebar' %}
{% endblock %}
