{% extends 'base.html' %}
{% load static %}
{% block title %}チェックリスト - Codemon{% endblock %}

{% block body_class %} class="no-scroll"{% endblock %}

{% block background_frame %}

<img src="{% static 'codemon/images/frames/bg_frame_green.png' %}" 
     alt="" 
     class="bg-frame frame-green"
     onerror="this.style.display='none';">
{% endblock %}

{% block extra_css %}
<style>
.checklist-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 30px;
  min-height: calc(100vh - 140px);
  gap: 18px;
}

/* 保険: 親を相対位置にして絶対配置の子を中央にできるようにする */
.checklist-container { position: relative; }

.create-button {
  margin: 0 auto;
  width: 100%;
  max-width: min(92vw, 980px);
  display: flex;
  flex-direction: column;
  gap: 18px;
  align-items: center;
}

/* 絶対配置で確実に中央に置くためのユーティリティクラス */
.create-button.center {
  /* ビューポート基準で中央に固定する（親の高さやスクロールに影響されない） */
  position: fixed;
  top: 50%;
  left: 44%; /* 中央よりやや左寄せ（画像イメージに合わせる） */
  transform: translate(-50%, -50%);
  z-index: 1000;
  width: min(92vw, 980px);
  padding: 0 12px;
}

@media (max-width: 480px) {
  /* モバイルでは固定だと邪魔になる可能性があるため相対配置に戻す */
  .create-button.center {
    position: static;
    transform: none;
    margin-top: 24px;
    width: 100%;
  }
}

.btn-list, .btn-create {
  display: block;
  padding: 30px 50px;
  background-color: #28a745;
  color: white;
  text-decoration: none;
  border-radius: 8px;
  font-size: 18px;
  font-weight: bold;
  transition: all 0.3s;
  box-shadow: none; /* シャドウを無効化 */
}

.btn-list:hover, .btn-create:hover {
  background-color: #218838;
  box-shadow: none; /* ホバー時の影も無効化 */
}

.no-items {
  text-align: center;
  color: #666;
  font-style: italic;
}

.chat-ai-bubble {
  position: fixed;
  right: 20px !important;
  bottom: 20px;
  z-index: 9999;
  display: flex;
  gap: 8px;
  align-items: center;
}

.chat-button {
  display: inline-flex;
  align-items: center;
  padding: 10px 14px;
  background-color: #007bff;
  color: #fff;
  text-decoration: none;
  border-radius: 24px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.12);
}
.msg-tag-button {
  background-color: #6f42c1;
}
.msg-tag-button:hover {
  background-color: #5a32a3;
}
.chat-button i { font-size: 16px }
.chat-button span { font-weight: 600 }
/* 画像ボタン用スタイル（選択ボタン画像を使用） */
.btn-create { position: relative; display: block; padding: 0; background: none; }
.btn-create img { width: 100%; max-width: 420px; height: auto; display: block; border-radius: 999px; box-shadow: none !important; transition: transform 0.22s ease; }
.btn-create + .btn-create { margin-top: 14px; }
.btn-create:hover img { box-shadow: none !important; }

/* キーボードやクリックでフォーカスしたときのブラウザデフォルトの枠を無効化 */
.btn-create:focus,
.btn-create:active,
.btn-create:focus-visible,
.btn-create img:focus,
.btn-create img:active,
.btn-create img:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* タップハイライトの無効化（モバイル） */
.btn-create, .btn-create img { -webkit-tap-highlight-color: transparent; }
.btn-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #04353b;
  font-weight: 600;
  font-size: 18px;
  pointer-events: none;
  white-space: nowrap;
  text-shadow: 0 1px 0 rgba(255,255,255,0.6);
}

@media (max-width: 768px) {
  .btn-create img { max-width: 320px; }
  .btn-label { font-size: 16px; }
}

/* 微調整: 下のボタンをわずかに左にズラして重なり感を出す（大きい画面のみ） */
@media (min-width: 900px) {
  .create-button.center .btn-create:nth-child(2) { transform: translateX(-14px); }
}
</style>
{% endblock %}

{% block content %}

<div class="checklist-container">
  <div class="create-button center">
    <a href="{% url 'codemon:checklist_list' %}" class="btn-create" role="button" aria-label="作成したチェックリスト一覧">
      <img src="{% static 'codemon/images/buttons/selection_green.png' %}" alt="作成したチェックリスト一覧" onerror="this.style.display='none'">
      <span class="btn-label">作成したチェックリスト一覧</span>
    </a>

    <a href="{% url 'codemon:checklist_create' %}" class="btn-create" role="button" aria-label="新しいチェックリストを作る">
      <img src="{% static 'codemon/images/buttons/selection_green.png' %}" alt="新しいチェックリストを作る" onerror="this.style.display='none'">
      <span class="btn-label">新しいチェックリストを作る</span>
    </a>
  </div>

</div>
{% endblock %}