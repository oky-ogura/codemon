{% extends 'base.html' %}

{% block title %}システム一覧 - Codemon{% endblock %}

{% block content %}
<h1>システム一覧</h1>

{% if systems and systems|length %}
	<ul style="list-style: none; padding: 0;">
		{% for s in systems %}
			<li style="margin-bottom: 15px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; background: #fafafa;">
				<strong style="font-size: 18px;">{{ s.system_name }}</strong>
				{% if s.system_description %}<br><small style="color: #666;">{{ s.system_description }}</small>{% endif %}
			</li>
		{% endfor %}
	</ul>
{% else %}
	<p style="text-align: center; color: #999; padding: 40px;">登録されているシステムはまだありません。</p>
{% endif %}

<hr style="margin: 30px 0;">

<!-- デバッグ情報（開発時のみ表示することを推奨） -->
<div style="background: #f9f9f9; padding: 15px; border-radius: 8px; font-size: 12px; color: #666;">
	<p><strong>デバッグ情報:</strong></p>
	<p>is_account_authenticated = {{ request.session.is_account_authenticated }}</p>
	<p>account_user_id = {{ request.session.account_user_id }}</p>
	<p>request.user.is_authenticated = {{ request.user.is_authenticated }}</p>
	<p>request.user.username = {{ request.user.username }}</p>
</div>

<p style="margin-top: 20px;">
	<a href="javascript:history.back()" style="color: #667eea; text-decoration: none; font-weight: bold;">← 前のページに戻る</a>
</p>
{% endblock %}

{% block global_character_widget %}
{% include 'includes/character_widget.html' with mode='sidebar' %}
{% endblock %}
